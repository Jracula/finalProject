<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="pay">
	<insert id="insertPay" parameterType="pay">
		insert into pay_tbl values
		(pay_seq.nextval, #{memberNo}, #{productNo}, sysdate, 1)
		<selectKey resultType="_int" order="AFTER" keyProperty="payNo">
			select max(pay_no) from pay_tbl
		</selectKey>
	</insert>
	<select id="selectPay" parameterType="_int" resultType="pay">
		select 
			pay_no as payNo,
			member_no as memberNo,
			product_no as productNo,
			pay_date as payDate,
			pay_status as payStatus
			from pay_tbl where pay_no = #{payNo} 
	</select>
</mapper>
