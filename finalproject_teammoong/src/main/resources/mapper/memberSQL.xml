<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >


<mapper namespace="member">

		<insert id="insertMember" parameterType="m">
			insert into member_tbl values(
				member_seq.nextval,
				#{memberId},
				#{memberPw},
				#{memberName},
				#{memberEmail},
				#{memberPhone},
				#{memberAddr},
				#{memberGender},
				#{memberBDay},
				#{memberAccount},
				#{memberPath},
				#{memberAgree},
				1,
				#{memberBank},
				to_date(sysdate,'yyyy-mm-dd'),
				#{memberZoneCode}
			)
		</insert>



		<select id="selectOneMember" parameterType="m" resultType="m">
			select 
				member_no as memberNo,
				member_id as memberId,
				member_pw as memberPw,
				member_name as memberName,
				member_email as memberEmail,
				member_phone as memberPhone,
				member_addr as memberAddr,
				member_gender as memberGender,
				member_bday as memberBDay,
				member_account as memberAccount,
				member_path as memberPath,
				member_agree as memberAgree,
				member_status as memberStatus,
				member_bank as memberBank,
				reg_date as regDate
			from member_tbl
			where member_id=#{memberId}
			<if test="memberPw != null">
				and member_pw=#{memberPw}
			</if>
		</select> 
	

		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	<select id="selectAllMember" resultType="m">
		select
			member_no as memberNo,
			member_id as memberId,
			member_name as memberName,
			member_email as memberEmail,
			member_phone as memberPhone,
			member_addr as memberAddr,
			member_gender as memberGender,
			to_char(member_bday, 'YYYY-MM-DD') as memberBday,
			member_account as memberAccount,
			member_path as memberPath,
			member_agree as memberAgree,
			member_status as memberStatus,
			member_bank as memberBank,
			reg_date as regDate,
			member_zonecode as memberZoneCode
		from member_tbl where member_bday is not null
	</select>
</mapper>
