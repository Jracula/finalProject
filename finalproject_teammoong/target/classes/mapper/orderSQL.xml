<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN
" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="order">

<!-- 주문서 페이지에서 회원에게 보여질 쿠폰 리스트 (규린) -->
	<select id="selectMemberCouponList" parameterType="_int" resultType="ic">
       select
            coupon_title AS couponTitle,
            coupon_price AS couponPrice,
             TO_CHAR(end_date, 'YYYY-MM-DD') AS endDate
       from issue_coupon
       left join coupon_tbl using (coupon_no)
       where member_no = #{_parameter}
       order by 1 desc
	</select>
	<select id="selectMemberCouponCount" parameterType="_int" resultType="_int">
		 select count(*) AS couponCount from ISSUE_COUPON where member_no=#{_parameter}
	</select>



</mapper>
